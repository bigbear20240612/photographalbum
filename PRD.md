# 摄影作品展示平台 - 产品需求文档（PRD）

**文档版本：** V1.0
**创建日期：** 2025-10-08
**产品负责人：** 产品团队
**目标版本：** MVP V1.0

---

## 1. 产品概述

### 1.1 产品定位

摄影作品展示平台是一个专为摄影师打造的画廊级作品展示平台，致力于为摄影创作者提供高品质、专业化的作品展示空间，让摄影作品以最佳的视觉效果呈现给观众。

### 1.2 产品愿景

成为摄影师首选的在线作品集平台，让每一位摄影师都能拥有属于自己的线上画廊，以画廊级的展示效果呈现作品，建立个人品牌影响力。

### 1.3 目标用户

**主要用户群体：**
- 专业摄影师：需要展示作品集、建立个人品牌、吸引客户
- 业余摄影爱好者：希望有专业平台展示摄影作品、记录创作历程
- 摄影院校学生：需要搭建个人作品集、展示学习成果

**次要用户群体：**
- 摄影作品欣赏者：浏览高质量摄影作品
- 潜在客户：寻找摄影师合作

### 1.4 核心价值

**对摄影师：**
- **画廊级展示体验：** 极简设计突出作品，高质量图片呈现，保留作品细节
- **专业作品管理：** 以专辑/系列为单位组织作品，支持详细的作品信息展示
- **个人品牌塑造：** 独立的个人主页，专业的视觉呈现，提升个人品牌形象
- **自由创作空间：** 无广告干扰，纯粹的作品展示环境

**对观众：**
- **沉浸式浏览体验：** 大图浏览模式，专注于作品欣赏
- **高质量内容：** 专业摄影作品集中展示
- **便捷访问：** 响应式设计，支持多设备浏览

---

## 2. 用户分析

### 2.1 用户画像

**画像A：专业摄影师 - 李明**
- **基本信息：** 32岁，职业摄影师，从事商业摄影和人像摄影5年
- **使用场景：** 需要向客户展示作品集，在社交媒体分享作品链接
- **核心需求：**
  - 高质量图片展示，不损失画质
  - 按项目/主题组织作品集
  - 展示专业信息（拍摄参数、器材）
  - 独立的个人品牌展示页面
- **痛点：**
  - 社交平台压缩画质严重
  - 现有平台设计不够专业
  - 缺少灵活的作品组织方式

**画像B：业余摄影师 - 张小雅**
- **基本信息：** 26岁，设计师，摄影爱好者，周末拍摄街拍和风光
- **使用场景：** 记录摄影作品，分享给朋友和同好，展示摄影审美
- **核心需求：**
  - 简单易用的上传和管理工具
  - 美观的展示效果
  - 移动端便捷访问
- **痛点：**
  - 不想作品淹没在社交平台信息流中
  - 希望有独立的作品展示空间
  - 需要简洁的管理方式

**画像C：摄影院校学生 - 王浩**
- **基本信息：** 22岁，摄影专业大三学生，准备毕业作品集
- **使用场景：** 整理课程作品，准备求职作品集，展示创作能力
- **核心需求：**
  - 系统化组织不同项目的作品
  - 展示创作思路和拍摄信息
  - 分享给老师和潜在雇主
- **痛点：**
  - 需要专业的作品集展示平台
  - 希望突出作品系列感和完整性

### 2.2 用户需求分析

| 需求类型 | 需求描述 | 优先级 | 目标用户 |
|---------|---------|-------|---------|
| 核心需求 | 高质量图片展示，无压缩损失 | P0 | 所有摄影师 |
| 核心需求 | 以专辑/系列为单位组织作品 | P0 | 所有摄影师 |
| 核心需求 | 个人主页与品牌展示 | P0 | 专业摄影师 |
| 核心需求 | 作品详细信息展示（参数、说明） | P0 | 专业摄影师 |
| 重要需求 | 响应式设计，移动端适配 | P1 | 所有用户 |
| 重要需求 | 大图沉浸式浏览 | P1 | 所有用户 |
| 重要需求 | 作品分类管理 | P1 | 所有摄影师 |
| 次要需求 | 社交互动功能 | P2 | 业余摄影师 |
| 次要需求 | 搜索与发现功能 | P2 | 观众 |
| 次要需求 | 版权保护功能 | P2 | 专业摄影师 |

### 2.3 使用场景

**场景1：新用户注册并创建第一个专辑**
- **触发条件：** 摄影师决定使用平台展示作品
- **用户目标：** 快速上传作品并生成可分享的作品集链接
- **使用流程：**
  1. 访问平台，完成注册
  2. 设置个人资料和简介
  3. 创建第一个专辑（如"2024人像作品集"）
  4. 批量上传照片
  5. 编辑照片信息
  6. 预览并分享个人主页链接

**场景2：专业摄影师向客户展示作品**
- **触发条件：** 需要向潜在客户展示相关作品案例
- **用户目标：** 快速找到相关专辑，通过专业的展示效果赢得客户信任
- **使用流程：**
  1. 登录平台
  2. 找到对应的项目专辑（如"商业人像案例"）
  3. 分享专辑链接或个人主页链接给客户
  4. 客户通过链接浏览高质量作品
  5. 客户通过作品信息了解拍摄细节

**场景3：业余摄影师日常作品管理**
- **触发条件：** 周末拍摄了一组新作品
- **用户目标：** 将新作品整理到平台，与朋友分享
- **使用流程：**
  1. 移动端访问平台
  2. 进入已有专辑或创建新专辑
  3. 上传新照片
  4. 简单编辑标题和描述
  5. 分享专辑链接到社交媒体

**场景4：观众浏览摄影作品**
- **触发条件：** 通过链接或搜索访问摄影师主页
- **用户目标：** 欣赏高质量摄影作品，了解摄影师风格
- **使用流程：**
  1. 访问摄影师个人主页
  2. 浏览专辑列表，选择感兴趣的专辑
  3. 进入专辑，瀑布流浏览作品
  4. 点击作品进入大图浏览模式
  5. 查看作品信息（参数、地点、创作说明）
  6. 切换到下一张作品继续浏览

---

## 3. 产品架构

### 3.1 信息架构

```
摄影作品展示平台
│
├── 公共页面
│   ├── 首页（平台介绍）
│   ├── 登录页
│   ├── 注册页
│   └── 发现页（浏览所有摄影师作品）[V1.1]
│
├── 用户中心
│   ├── 个人主页（公开展示）
│   │   ├── 个人信息展示
│   │   ├── 专辑列表（瀑布流）
│   │   └── 个人简介
│   │
│   ├── 个人设置（私密管理）
│   │   ├── 基本资料编辑
│   │   ├── 头像上传
│   │   └── 账户设置
│   │
│   └── 作品管理后台
│       ├── 我的专辑（列表视图）
│       ├── 创建新专辑
│       └── 专辑管理
│
├── 专辑模块
│   ├── 专辑详情页（公开展示）
│   │   ├── 专辑封面
│   │   ├── 专辑信息
│   │   └── 作品瀑布流展示
│   │
│   └── 专辑编辑页（私密管理）
│       ├── 专辑信息编辑
│       ├── 照片上传
│       ├── 照片管理（排序、删除）
│       └── 照片信息编辑
│
└── 作品浏览
    └── 大图浏览模式（Modal）
        ├── 高清大图展示
        ├── 作品信息面板
        ├── 上一张/下一张切换
        └── 关闭返回
```

### 3.2 功能架构

```
功能模块
│
├── 用户系统
│   ├── 注册/登录
│   ├── 身份认证
│   ├── 个人资料管理
│   └── 账户安全
│
├── 专辑管理
│   ├── 创建专辑
│   ├── 编辑专辑
│   ├── 删除专辑
│   ├── 专辑封面设置
│   └── 专辑排序
│
├── 作品管理
│   ├── 批量上传
│   ├── 作品信息编辑
│   ├── 作品排序
│   ├── 作品删除
│   └── 分类管理
│
├── 展示系统
│   ├── 个人主页展示
│   ├── 专辑详情展示
│   ├── 瀑布流布局
│   ├── 大图浏览模式
│   └── 响应式适配
│
└── 图片处理
    ├── 图片上传
    ├── 图片压缩优化
    ├── 多尺寸生成
    └── CDN加速
```

---

## 4. 功能需求详细说明（MVP版本）

### 4.1 用户系统

#### 4.1.1 用户注册

**功能描述：**
新用户通过邮箱或第三方账号注册成为平台用户，创建个人摄影展示空间。

**用户故事：**
- 作为新用户，我想要通过邮箱快速注册账号，以便开始使用平台展示我的摄影作品
- 作为用户，我想要通过社交账号快速注册，以便节省注册时间

**功能流程：**

```
用户访问注册页
    ↓
选择注册方式（邮箱/第三方）
    ↓
[邮箱注册]
    ↓
输入注册信息
    ├── 邮箱地址
    ├── 用户名
    ├── 密码
    └── 确认密码
    ↓
点击"注册"按钮
    ↓
系统验证信息
    ├── 邮箱格式校验
    ├── 用户名唯一性校验
    ├── 密码强度校验
    └── 两次密码一致性校验
    ↓
[验证通过] → 创建用户账户
    ↓
发送验证邮件（可选）
    ↓
注册成功，跳转到个人资料完善页
    ↓
[验证失败] → 显示错误提示，返回注册表单
```

**页面结构与交互：**

*注册页面元素：*
- 页面标题："欢迎加入摄影作品展示平台"
- 注册表单
  - 邮箱输入框（必填）
    - 占位符："请输入邮箱地址"
    - 实时验证：失去焦点时验证格式
    - 错误提示：邮箱格式不正确/邮箱已被注册
  - 用户名输入框（必填）
    - 占位符："设置用户名（4-20个字符）"
    - 实时验证：失去焦点时验证唯一性
    - 错误提示：用户名已存在/用户名长度不符
  - 密码输入框（必填）
    - 占位符："设置密码（至少8个字符）"
    - 显示/隐藏密码切换按钮
    - 密码强度指示器（弱/中/强）
  - 确认密码输入框（必填）
    - 占位符："再次输入密码"
    - 实时验证：与密码是否一致
- 服务条款勾选框
- 注册按钮（主按钮）
- 已有账号？登录链接

*交互说明：*
- 表单提交前进行完整性校验
- 提交时按钮显示"注册中..."并禁用
- 注册成功后显示成功提示，2秒后跳转
- 支持回车键提交表单

**字段定义：**

*User表（注册相关字段）*
| 字段名 | 类型 | 长度 | 必填 | 唯一 | 说明 |
|-------|------|-----|------|------|------|
| user_id | UUID | - | 是 | 是 | 用户唯一标识 |
| email | VARCHAR | 100 | 是 | 是 | 邮箱地址 |
| username | VARCHAR | 50 | 是 | 是 | 用户名 |
| password_hash | VARCHAR | 255 | 是 | 否 | 密码哈希值 |
| created_at | TIMESTAMP | - | 是 | 否 | 注册时间 |
| email_verified | BOOLEAN | - | 是 | 否 | 邮箱是否已验证 |
| status | ENUM | - | 是 | 否 | 账户状态（active/inactive/suspended） |

**业务规则：**
1. 邮箱地址必须符合标准邮箱格式
2. 用户名长度4-20个字符，只允许字母、数字、下划线
3. 密码长度至少8个字符，建议包含大小写字母、数字和特殊字符
4. 密码使用bcrypt加密存储，不存储明文
5. 用户名和邮箱在系统中必须唯一
6. 注册成功后默认账户状态为active
7. 发送欢迎邮件（可选功能）

#### 4.1.2 用户登录

**功能描述：**
已注册用户通过邮箱和密码登录平台，访问个人作品管理功能。

**用户故事：**
- 作为注册用户，我想要通过邮箱和密码登录，以便管理我的作品
- 作为用户，我想要系统记住我的登录状态，以便下次访问时无需重复登录

**功能流程：**

```
用户访问登录页
    ↓
输入登录信息
    ├── 邮箱/用户名
    └── 密码
    ↓
[可选] 勾选"记住我"
    ↓
点击"登录"按钮
    ↓
系统验证身份
    ├── 查询用户是否存在
    ├── 验证密码是否正确
    └── 检查账户状态
    ↓
[验证成功] → 生成登录令牌（Token）
    ↓
设置Session/Cookie
    ↓
登录成功，跳转到个人主页或来源页
    ↓
[验证失败] → 显示错误提示
    └── 邮箱或密码错误
```

**页面结构与交互：**

*登录页面元素：*
- 页面标题："登录"
- 登录表单
  - 邮箱/用户名输入框（必填）
  - 密码输入框（必填）
  - 显示/隐藏密码切换按钮
  - "记住我"复选框
  - 忘记密码链接
- 登录按钮（主按钮）
- 还没有账号？注册链接

*交互说明：*
- 登录失败3次后显示验证码（防暴力破解）
- 支持回车键提交
- 登录成功后跳转到之前访问的页面或个人主页

**业务规则：**
1. 支持邮箱或用户名登录
2. 密码错误5次后锁定账户30分钟
3. "记住我"功能令牌有效期30天，否则为会话期间
4. 登录令牌使用JWT标准
5. 需要验证账户状态，suspended账户不允许登录

#### 4.1.3 个人资料管理

**功能描述：**
用户可以编辑和完善个人资料，包括头像、昵称、简介、社交链接等信息，这些信息将在个人主页公开展示。

**用户故事：**
- 作为摄影师，我想要设置个人头像和简介，以便访客了解我的背景和风格
- 作为摄影师，我想要添加社交媒体链接，以便访客通过其他渠道联系我
- 作为专业摄影师，我想要展示我的拍摄领域和器材信息，以便提升专业形象

**功能流程：**

```
用户进入个人设置页
    ↓
点击"编辑资料"
    ↓
编辑个人信息
    ├── 上传/更换头像
    ├── 修改昵称
    ├── 修改个人简介
    ├── 添加地理位置
    ├── 添加网站链接
    ├── 添加社交媒体链接
    └── 添加拍摄领域标签
    ↓
点击"保存"按钮
    ↓
系统验证信息
    ├── 头像格式和大小
    ├── 昵称长度和合法性
    └── URL格式
    ↓
[验证通过] → 保存信息到数据库
    ↓
显示成功提示
    ↓
更新个人主页展示
```

**页面结构与交互：**

*个人资料编辑页面：*

1. **头像区域**
   - 当前头像预览（圆形，120x120px）
   - "更换头像"按钮
   - 点击后弹出上传对话框
   - 支持裁剪功能（1:1比例）

2. **基本信息区域**
   - 昵称输入框（必填）
     - 占位符："请输入昵称"
     - 字数限制：20字符
   - 个人简介文本框（选填）
     - 占位符："介绍一下你自己和你的摄影风格..."
     - 字数限制：500字符
     - 显示剩余字数
   - 地理位置输入框（选填）
     - 占位符："如：北京 / Beijing, China"

3. **拍摄领域标签**
   - 标签选择器（多选）
   - 预设标签：人像、风光、街拍、纪实、静物、建筑、野生动物、时尚、商业、婚礼等
   - 最多选择5个标签
   - 选中的标签高亮显示

4. **联系方式区域**
   - 个人网站输入框
   - Instagram链接输入框
   - 微博链接输入框
   - 其他社交媒体输入框

5. **操作按钮**
   - "保存"按钮（主按钮）
   - "取消"按钮（次要按钮）
   - "预览主页"链接

**字段定义：**

*User表（资料相关字段）*
| 字段名 | 类型 | 长度 | 必填 | 说明 |
|-------|------|-----|------|------|
| avatar_url | VARCHAR | 500 | 否 | 头像URL |
| display_name | VARCHAR | 50 | 否 | 昵称/展示名称 |
| bio | TEXT | 500 | 否 | 个人简介 |
| location | VARCHAR | 100 | 否 | 地理位置 |
| website_url | VARCHAR | 500 | 否 | 个人网站 |
| instagram_url | VARCHAR | 500 | 否 | Instagram链接 |
| weibo_url | VARCHAR | 500 | 否 | 微博链接 |
| photography_tags | JSON | - | 否 | 拍摄领域标签数组 |
| updated_at | TIMESTAMP | - | 是 | 最后更新时间 |

**业务规则：**
1. 头像图片格式：JPG、PNG
2. 头像文件大小限制：5MB
3. 头像上传后自动生成多个尺寸（120x120, 60x60, 30x30）
4. 昵称长度2-20个字符
5. 个人简介最多500字符
6. 社交链接需验证URL格式
7. 拍摄领域标签最多选择5个
8. 所有字段均为选填，但建议完善以提升主页吸引力
9. 修改后立即在个人主页生效

#### 4.1.4 个人主页（公开展示）

**功能描述：**
个人主页是摄影师的公开展示页面，展示个人信息和所有专辑作品。任何访客都可以通过URL访问。

**用户故事：**
- 作为摄影师，我想要拥有独立的个人主页，以便展示我的作品集和个人品牌
- 作为访客，我想要快速了解摄影师的风格和作品，以便决定是否深入浏览
- 作为摄影师，我想要分享我的主页链接，以便在社交媒体推广我的作品

**页面结构与交互：**

*个人主页布局：*

1. **头部个人信息卡片（固定在顶部）**
   - 头像（居中，120x120px圆形）
   - 昵称（大字号，居中）
   - 个人简介（居中，灰色文字）
   - 拍摄领域标签（标签样式展示）
   - 地理位置图标+文字
   - 社交媒体图标链接（Instagram、微博等）
   - 背景：纯白或浅灰，与作品区形成区分

2. **作品统计（居中）**
   - 专辑数量
   - 作品数量
   - （未来可添加：关注数、粉丝数）

3. **专辑展示区域（瀑布流布局）**
   - 专辑封面卡片
     - 封面图片（正方形或3:2比例）
     - 专辑标题（叠加在图片底部或图片下方）
     - 作品数量标识（如"24 张"）
     - Hover效果：半透明遮罩+查看按钮
   - 响应式列数：
     - 桌面端：3-4列
     - 平板：2列
     - 手机：1列

4. **空状态处理**
   - 如果用户还没有创建专辑：
     - 显示空状态插图
     - 提示文案："该摄影师还没有上传作品"
     - [如果是自己的主页] 显示"创建第一个专辑"按钮

**URL结构：**
- 个人主页URL：`/photographer/{username}` 或 `/@{username}`
- 示例：`/photographer/john_doe` 或 `/@john_doe`

**交互说明：**
- 点击专辑卡片 → 跳转到专辑详情页
- 点击社交媒体图标 → 新窗口打开链接
- 页面滚动加载更多专辑（如果专辑数量大于12个）
- [如果是自己的主页] 右上角显示"编辑资料"和"管理作品"按钮

**业务规则：**
1. 个人主页对所有访客开放，无需登录
2. URL必须唯一，基于用户名生成
3. 专辑按创建时间倒序排列（最新的在前）
4. 专辑封面优先使用用户设置的封面，否则使用第一张照片
5. 未完善资料的用户显示默认头像和提示信息
6. 页面支持分享到社交媒体（Open Graph标签）

---

### 4.2 专辑管理

#### 4.2.1 创建专辑

**功能描述：**
用户可以创建新的专辑，为一组相关的摄影作品建立独立的展示空间。专辑是组织作品的核心单位。

**用户故事：**
- 作为摄影师，我想要创建一个新专辑，以便将同一主题或项目的作品组织在一起
- 作为摄影师，我想要为专辑设置标题和描述，以便访客理解专辑的主题和背景

**功能流程：**

```
用户进入作品管理后台
    ↓
点击"创建新专辑"按钮
    ↓
打开创建专辑对话框/页面
    ↓
填写专辑信息
    ├── 专辑标题（必填）
    ├── 专辑描述（选填）
    ├── 拍摄时间/时间段（选填）
    └── 分类标签（选填）
    ↓
点击"创建"按钮
    ↓
系统验证信息
    └── 标题不能为空且长度合法
    ↓
[验证通过] → 创建专辑记录
    ↓
生成专辑ID和URL
    ↓
跳转到专辑编辑页（上传照片）
    ↓
显示成功提示："专辑已创建，开始上传照片吧！"
```

**页面结构与交互：**

*创建专辑表单：*

1. **专辑标题输入框（必填）**
   - 占位符："给专辑起个名字，如'2024春日人像'或'云南风光之旅'"
   - 字数限制：50字符
   - 实时显示剩余字数

2. **专辑描述文本框（选填）**
   - 占位符："描述一下这个专辑的主题、拍摄背景或创作想法..."
   - 字数限制：500字符
   - 支持换行
   - 实时显示剩余字数

3. **拍摄时间选择器（选填）**
   - 单一日期选择器
   - 或时间范围选择器（开始日期-结束日期）
   - 示例："2024年3月" 或 "2024-03-15"

4. **分类标签选择器（选填）**
   - 下拉选择或标签选择
   - 预设分类：人像、风光、街拍、纪实、静物、建筑、野生动物、时尚、商业、婚礼、黑白、胶片等
   - 可多选，最多3个

5. **操作按钮**
   - "创建专辑"按钮（主按钮，右侧）
   - "取消"按钮（次要按钮，左侧）

**字段定义：**

*Album表*
| 字段名 | 类型 | 长度 | 必填 | 说明 |
|-------|------|-----|------|------|
| album_id | UUID | - | 是 | 专辑唯一标识 |
| user_id | UUID | - | 是 | 所属用户ID（外键） |
| title | VARCHAR | 100 | 是 | 专辑标题 |
| description | TEXT | 1000 | 否 | 专辑描述 |
| cover_photo_id | UUID | - | 否 | 封面照片ID（外键） |
| shoot_date | DATE | - | 否 | 拍摄日期 |
| shoot_date_range_start | DATE | - | 否 | 拍摄开始日期 |
| shoot_date_range_end | DATE | - | 否 | 拍摄结束日期 |
| category_tags | JSON | - | 否 | 分类标签数组 |
| photo_count | INT | - | 是 | 照片数量（冗余字段） |
| created_at | TIMESTAMP | - | 是 | 创建时间 |
| updated_at | TIMESTAMP | - | 是 | 最后更新时间 |
| sort_order | INT | - | 是 | 排序权重（用户可调整） |
| status | ENUM | - | 是 | 状态（draft/published） |

**业务规则：**
1. 专辑标题不能为空，长度2-100字符
2. 专辑描述最多1000字符
3. 分类标签最多选择3个
4. 新创建的专辑默认状态为`draft`（草稿）
5. 专辑创建后自动关联到当前登录用户
6. 专辑URL格式：`/photographer/{username}/album/{album_id}`
7. 排序权重默认值为创建时间戳
8. 一个用户可以创建无限个专辑（未来可根据账户类型限制）

#### 4.2.2 编辑专辑

**功能描述：**
用户可以修改已创建专辑的基本信息，包括标题、描述、分类标签、封面照片等。

**用户故事：**
- 作为摄影师，我想要修改专辑标题和描述，以便更准确地描述作品主题
- 作为摄影师，我想要设置专辑封面，以便选择最能代表专辑的照片作为封面

**功能流程：**

```
用户进入专辑管理页
    ↓
点击某个专辑的"编辑"按钮
    ↓
进入专辑编辑页面
    ↓
显示专辑当前信息（预填充表单）
    ↓
用户修改信息
    ├── 修改标题
    ├── 修改描述
    ├── 修改拍摄时间
    ├── 修改分类标签
    └── 选择封面照片
    ↓
点击"保存"按钮
    ↓
系统验证信息
    ↓
[验证通过] → 更新专辑记录
    ↓
显示成功提示
    ↓
返回专辑管理页或留在当前页
```

**页面结构与交互：**

*专辑编辑页面布局：*

1. **顶部导航**
   - 返回按钮（返回专辑列表）
   - 页面标题："编辑专辑"

2. **专辑信息编辑区**
   - 与创建专辑表单相同的字段
   - 所有字段预填充当前值

3. **封面照片设置区**
   - 当前封面预览（200x200px）
   - "选择封面"按钮
   - 点击后显示该专辑所有照片的缩略图网格
   - 用户点击某张照片设置为封面
   - 显示"当前封面"标识

4. **专辑状态切换**
   - 切换开关："发布/草稿"
   - 草稿状态：专辑对外不可见
   - 发布状态：专辑对外可见

5. **操作按钮**
   - "保存修改"按钮（主按钮）
   - "取消"按钮（次要按钮）
   - "删除专辑"按钮（危险按钮，右上角）

**业务规则：**
1. 修改专辑信息会更新`updated_at`时间戳
2. 封面照片必须是该专辑内的照片
3. 如果未设置封面，默认使用第一张照片
4. 状态切换为`published`前需验证：专辑至少包含1张照片
5. 修改专辑信息不影响照片数据

#### 4.2.3 删除专辑

**功能描述：**
用户可以删除不再需要的专辑。删除专辑时提供选项：是否同时删除专辑内的所有照片。

**用户故事：**
- 作为摄影师，我想要删除过时的专辑，以便保持作品集的精简和更新
- 作为摄影师，我想要在删除专辑前确认操作，以便避免误删重要作品

**功能流程：**

```
用户在专辑管理页或编辑页
    ↓
点击"删除专辑"按钮
    ↓
弹出确认对话框
    ├── 警告提示："确定要删除这个专辑吗？"
    ├── 专辑信息预览（标题、照片数量）
    └── 选项："同时删除专辑内的所有照片"
    ↓
用户确认删除
    ↓
系统执行删除操作
    ├── 删除专辑记录
    └── [如果勾选] 删除所有关联照片和文件
    ↓
显示成功提示："专辑已删除"
    ↓
返回专辑管理页
    ↓
[用户取消] → 关闭对话框，不执行操作
```

**页面结构与交互：**

*删除确认对话框：*
- 标题："删除专辑"
- 警告图标
- 文案："你确定要删除专辑'[专辑标题]'吗？"
- 子文案："该专辑包含 X 张照片"
- 复选框："同时删除专辑内的所有照片（此操作不可恢复）"
- 按钮：
  - "确认删除"（危险按钮，红色）
  - "取消"（次要按钮）

**业务规则：**
1. 删除专辑前必须二次确认
2. 如果选择不删除照片，照片变为"未分类"状态，用户可以将其加入其他专辑
3. 如果选择删除照片，同时删除服务器上的图片文件和数据库记录
4. 删除操作不可恢复（未来可考虑"回收站"功能）
5. 删除专辑会更新用户的专辑计数和作品计数

#### 4.2.4 专辑排序

**功能描述：**
用户可以自定义专辑在个人主页上的展示顺序，以便优先展示重点作品集。

**用户故事：**
- 作为摄影师，我想要调整专辑顺序，以便让最新或最重要的专辑优先展示
- 作为摄影师，我想要通过拖拽方式排序，以便快速调整顺序

**功能流程：**

```
用户进入专辑管理页
    ↓
点击"调整顺序"按钮
    ↓
进入排序模式
    ↓
专辑卡片显示拖拽手柄图标
    ↓
用户拖拽专辑卡片调整顺序
    ↓
每次拖拽结束，实时更新排序
    ↓
点击"完成"按钮
    ↓
保存排序结果到数据库
    ↓
退出排序模式
```

**交互说明：**
- 拖拽排序使用直观的拖放交互
- 拖拽时卡片显示半透明效果
- 松手后卡片平滑过渡到新位置
- 支持触摸设备的拖拽操作

**业务规则：**
1. 排序基于`sort_order`字段，数值越小越靠前
2. 拖拽调整后自动计算并更新所有专辑的`sort_order`值
3. 排序结果实时保存，立即在个人主页生效
4. 默认排序为创建时间倒序（最新的在前）

---

### 4.3 作品管理

#### 4.3.1 批量上传照片

**功能描述：**
用户可以将多张照片批量上传到指定专辑，系统自动处理图片压缩和优化。

**用户故事：**
- 作为摄影师，我想要一次性上传多张照片，以便快速填充专辑内容
- 作为摄影师，我想要看到上传进度，以便了解上传状态
- 作为摄影师，我想要系统自动读取EXIF信息，以便减少手动输入工作

**功能流程：**

```
用户进入专辑编辑页
    ↓
点击"上传照片"按钮
    ↓
打开文件选择对话框（支持多选）
    ↓
用户选择多个照片文件
    ↓
系统开始上传处理
    ├── 显示上传进度条
    ├── 逐个上传文件
    ├── 服务器端处理每张照片：
    │   ├── 保存原图
    │   ├── 生成多个尺寸缩略图
    │   ├── 读取EXIF信息
    │   └── 创建照片记录
    └── 更新上传进度
    ↓
所有照片上传完成
    ↓
显示成功提示："已成功上传 X 张照片"
    ↓
刷新照片列表，显示新上传的照片
    ↓
[可选] 引导用户编辑照片信息
```

**页面结构与交互：**

*上传照片界面：*

1. **上传区域（拖放区）**
   - 虚线边框矩形区域
   - 中心图标：上传图标
   - 文案："拖拽照片到这里，或点击选择文件"
   - 子文案："支持JPG、PNG格式，单张最大20MB，可同时选择多张"
   - 点击区域 → 打开文件选择对话框
   - 拖拽照片到区域 → 直接开始上传

2. **上传进度区域（上传开始后显示）**
   - 上传队列列表
   - 每个文件显示：
     - 文件名
     - 文件大小
     - 上传进度条（0-100%）
     - 状态图标（上传中/成功/失败）
   - 总体进度条
   - 文案："正在上传 3/10 张照片..."

3. **已上传照片预览区**
   - 缩略图网格展示
   - 每张照片显示：
     - 缩略图（150x150px）
     - 文件名
     - "编辑信息"图标按钮
     - "删除"图标按钮

**字段定义：**

*Photo表*
| 字段名 | 类型 | 长度 | 必填 | 说明 |
|-------|------|-----|------|------|
| photo_id | UUID | - | 是 | 照片唯一标识 |
| album_id | UUID | - | 是 | 所属专辑ID（外键） |
| user_id | UUID | - | 是 | 所属用户ID（外键） |
| title | VARCHAR | 200 | 否 | 照片标题 |
| description | TEXT | 2000 | 否 | 照片描述/创作说明 |
| original_url | VARCHAR | 500 | 是 | 原图URL |
| large_url | VARCHAR | 500 | 是 | 大图URL（2000px宽） |
| medium_url | VARCHAR | 500 | 是 | 中图URL（1000px宽） |
| thumbnail_url | VARCHAR | 500 | 是 | 缩略图URL（300px宽） |
| width | INT | - | 是 | 原图宽度（像素） |
| height | INT | - | 是 | 原图高度（像素） |
| file_size | INT | - | 是 | 文件大小（字节） |
| mime_type | VARCHAR | 50 | 是 | 文件MIME类型 |
| exif_data | JSON | - | 否 | EXIF信息（JSON格式） |
| camera_model | VARCHAR | 100 | 否 | 相机型号（从EXIF提取） |
| lens_model | VARCHAR | 100 | 否 | 镜头型号（从EXIF提取） |
| iso | INT | - | 否 | ISO值（从EXIF提取） |
| aperture | VARCHAR | 20 | 否 | 光圈值（如f/2.8） |
| shutter_speed | VARCHAR | 20 | 否 | 快门速度（如1/200s） |
| focal_length | VARCHAR | 20 | 否 | 焦距（如50mm） |
| shoot_date | TIMESTAMP | - | 否 | 拍摄时间（从EXIF提取） |
| location | VARCHAR | 200 | 否 | 拍摄地点 |
| category_tag | VARCHAR | 50 | 否 | 作品分类 |
| sort_order | INT | - | 是 | 排序权重 |
| created_at | TIMESTAMP | - | 是 | 上传时间 |
| updated_at | TIMESTAMP | - | 是 | 最后更新时间 |

**业务规则：**
1. 支持的图片格式：JPG、JPEG、PNG
2. 单张照片最大文件大小：20MB
3. 单次批量上传最多50张照片
4. 上传后自动生成4个尺寸：
   - 原图（保留，用于下载）
   - 大图：2000px宽（用于大图浏览）
   - 中图：1000px宽（用于瀑布流展示）
   - 缩略图：300px宽（用于列表预览）
5. 压缩算法保持画质（质量85-90%）
6. 自动读取EXIF信息并提取关键字段
7. 照片上传后自动发布（无需审核）
8. 上传失败的照片显示错误原因，允许重试
9. 上传后更新专辑的`photo_count`字段

#### 4.3.2 编辑照片信息

**功能描述：**
用户可以为每张照片编辑详细信息，包括标题、描述、拍摄参数、地点、分类等。

**用户故事：**
- 作为摄影师，我想要为照片添加标题和创作说明，以便观众理解作品背后的故事
- 作为摄影师，我想要补充或修正EXIF信息，以便准确展示拍摄参数
- 作为摄影师，我想要标注拍摄地点，以便观众了解作品场景

**功能流程：**

```
用户在专辑编辑页查看照片列表
    ↓
点击某张照片的"编辑"按钮
    ↓
打开照片信息编辑对话框/页面
    ↓
显示照片预览和当前信息（预填充）
    ↓
用户编辑信息
    ├── 修改标题
    ├── 修改描述
    ├── 修改拍摄参数（相机、镜头、ISO等）
    ├── 修改拍摄地点
    └── 选择分类标签
    ↓
点击"保存"按钮
    ↓
系统验证信息
    ↓
[验证通过] → 更新照片记录
    ↓
显示成功提示
    ↓
关闭编辑对话框，刷新照片列表
```

**页面结构与交互：**

*照片信息编辑对话框：*

1. **左侧：照片预览区**
   - 照片大图预览（适应对话框高度）
   - 文件信息：文件名、尺寸、大小

2. **右侧：信息编辑表单**

   **基本信息**
   - 标题输入框（选填）
     - 占位符："给这张照片起个标题"
     - 字数限制：200字符
   - 描述文本框（选填）
     - 占位符："描述一下这张照片的拍摄背景、创作想法或故事..."
     - 字数限制：2000字符
     - 支持换行

   **拍摄参数（从EXIF自动读取，可手动修改）**
   - 相机型号输入框
   - 镜头型号输入框
   - ISO值输入框（数字）
   - 光圈值输入框（如f/2.8）
   - 快门速度输入框（如1/200s）
   - 焦距输入框（如50mm）
   - 拍摄时间选择器

   **位置信息**
   - 拍摄地点输入框
     - 占位符："如：北京 / 故宫 / Beijing, China"

   **分类**
   - 分类标签选择器（单选）
   - 预设分类：人像、风光、街拍、纪实、静物、建筑、野生动物、时尚、商业、婚礼、黑白、胶片等

3. **操作按钮**
   - "保存"按钮（主按钮）
   - "取消"按钮（次要按钮）

**交互说明：**
- 所有字段均为选填，但建议填写标题和描述
- 拍摄参数支持手动覆盖EXIF自动读取的值
- 支持键盘快捷键：Ctrl+Enter保存，Esc取消
- 保存后可以快速跳转到下一张照片继续编辑

**业务规则：**
1. 标题最多200字符
2. 描述最多2000字符
3. 拍摄参数如果EXIF中存在，默认使用EXIF值，用户可手动修改
4. 修改后更新`updated_at`时间戳
5. 所有字段均可留空

#### 4.3.3 照片排序

**功能描述：**
用户可以自定义专辑内照片的展示顺序。

**用户故事：**
- 作为摄影师，我想要调整照片顺序，以便按照我的叙事逻辑展示作品
- 作为摄影师，我想要通过拖拽方式排序，以便直观地调整顺序

**功能流程：**

```
用户进入专辑编辑页
    ↓
点击"调整照片顺序"按钮
    ↓
进入排序模式
    ↓
照片缩略图显示拖拽手柄
    ↓
用户拖拽照片调整顺序
    ↓
实时更新顺序
    ↓
点击"完成"按钮
    ↓
保存排序结果
    ↓
退出排序模式
```

**业务规则：**
1. 排序基于`sort_order`字段
2. 拖拽调整后自动计算并更新所有照片的`sort_order`值
3. 默认排序为上传时间顺序
4. 排序立即在专辑详情页生效

#### 4.3.4 删除照片

**功能描述：**
用户可以从专辑中删除不需要的照片。

**用户故事：**
- 作为摄影师，我想要删除不满意的照片，以便保持专辑质量

**功能流程：**

```
用户在专辑编辑页
    ↓
点击某张照片的"删除"按钮
    ↓
弹出确认对话框："确定要删除这张照片吗？"
    ↓
用户确认删除
    ↓
系统执行删除操作
    ├── 删除照片记录
    ├── 删除服务器上的图片文件（所有尺寸）
    └── 更新专辑的photo_count
    ↓
显示成功提示
    ↓
刷新照片列表
```

**业务规则：**
1. 删除前必须确认
2. 删除操作不可恢复
3. 如果删除的是专辑封面照片，自动将第一张照片设为封面
4. 删除后更新专辑的`photo_count`字段

---

### 4.4 作品展示

#### 4.4.1 专辑详情页（公开展示）

**功能描述：**
专辑详情页展示专辑内的所有照片，采用瀑布流布局，访客可以浏览和欣赏作品。

**用户故事：**
- 作为访客，我想要浏览专辑中的所有照片，以便全面了解摄影师的作品系列
- 作为访客，我想要点击照片查看大图，以便更清晰地欣赏作品细节
- 作为摄影师，我想要专辑页面设计简洁，以便突出作品本身

**页面结构与交互：**

*专辑详情页布局：*

1. **顶部导航区**
   - 返回按钮 → 返回摄影师个人主页
   - 摄影师头像+名称（点击返回个人主页）

2. **专辑信息头部**
   - 专辑标题（大字号，居中）
   - 专辑描述（居中，灰色文字，最多显示3行，超出折叠）
   - 拍摄时间（如果有）
   - 分类标签（标签样式展示）
   - 照片数量："共 X 张"
   - [如果是自己的专辑] "编辑专辑"按钮

3. **照片瀑布流展示区**
   - 瀑布流布局（Masonry Layout）
   - 列数：
     - 桌面端：3列
     - 平板：2列
     - 手机：1列
   - 每张照片：
     - 响应式图片（宽度填满列宽，高度自适应）
     - Hover效果：半透明遮罩+放大图标
     - 点击 → 打开大图浏览模式

4. **空状态**
   - 如果专辑没有照片：
     - 显示空状态插图
     - 文案："这个专辑还没有照片"
     - [如果是自己的专辑] "上传照片"按钮

**URL结构：**
- 专辑详情URL：`/photographer/{username}/album/{album_id}`
- 或使用友好URL：`/@{username}/{album_title_slug}`

**交互说明：**
- 页面滚动时懒加载图片（提升性能）
- 点击照片 → 打开大图浏览模式（Modal）
- 支持键盘导航：左右箭头切换照片，Esc关闭大图
- 瀑布流自动计算列高度，保持平衡

**业务规则：**
1. 专辑详情页对所有访客开放（如果专辑状态为`published`）
2. 草稿状态的专辑仅所有者可见
3. 照片按`sort_order`排序展示
4. 使用中图尺寸（1000px宽）展示，减少加载时间
5. 支持SEO优化（设置页面标题、描述、Open Graph标签）

#### 4.4.2 大图浏览模式（Modal）

**功能描述：**
点击照片后进入全屏大图浏览模式，沉浸式欣赏作品，并显示作品详细信息。

**用户故事：**
- 作为访客，我想要以全屏方式欣赏照片，以便获得最佳观赏体验
- 作为访客，我想要查看照片的拍摄参数和说明，以便了解拍摄细节
- 作为访客，我想要快速切换到下一张照片，以便连续浏览

**页面结构与交互：**

*大图浏览模式界面：*

1. **中心：大图展示区**
   - 照片居中显示
   - 最大尺寸：占据屏幕大部分空间（留出边距）
   - 背景：黑色或深灰色（突出照片）
   - 照片自适应缩放（保持比例，不超出视口）

2. **左侧：上一张按钮**
   - 箭头图标按钮
   - 悬浮在照片左侧
   - 点击 → 切换到上一张照片
   - 如果是第一张，按钮禁用或隐藏

3. **右侧:下一张按钮**
   - 箭头图标按钮
   - 悬浮在照片右侧
   - 点击 → 切换到下一张照片
   - 如果是最后一张，按钮禁用或隐藏

4. **顶部：工具栏**
   - 左侧：关闭按钮（X图标）
   - 右侧：信息面板切换按钮（i图标）
   - 中间：当前照片序号（如"3 / 24"）

5. **右侧：信息面板（可折叠）**
   - 默认状态：收起（只显示切换按钮）
   - 点击信息按钮 → 展开面板
   - 面板内容：
     - 照片标题（如果有）
     - 照片描述（如果有，支持滚动）
     - 拍摄参数（如果有）：
       - 相机型号
       - 镜头型号
       - ISO、光圈、快门速度、焦距
       - 拍摄时间
     - 拍摄地点（如果有）
     - 分类标签（如果有）
   - 面板样式：半透明背景，宽度300-400px

**交互说明：**
- 点击照片以外的区域 → 关闭大图模式
- 键盘快捷键：
  - 左箭头：上一张
  - 右箭头：下一张
  - Esc：关闭
  - i：切换信息面板
- 支持触摸手势：
  - 左右滑动：切换照片
  - 双指缩放：放大/缩小照片
  - 向下滑动：关闭大图模式
- 切换照片时平滑过渡动画（淡入淡出）
- URL同步：切换照片时更新URL（如`?photo=5`），支持浏览器前进/后退

**业务规则：**
1. 使用大图尺寸（2000px宽）展示，保证清晰度
2. 图片懒加载：预加载当前照片及前后各1张
3. 信息面板状态记住用户偏好（本地存储）
4. 支持分享当前照片的URL
5. 图片加载时显示加载指示器

---

### 4.5 响应式设计

#### 4.5.1 移动端适配要求

**功能描述：**
平台必须在移动设备上提供良好的浏览和管理体验，适配不同屏幕尺寸。

**响应式断点：**
- 移动端：< 768px
- 平板：768px - 1024px
- 桌面端：> 1024px

**移动端适配规范：**

1. **个人主页（移动端）**
   - 专辑瀑布流：单列布局
   - 个人信息卡片：堆叠垂直布局
   - 社交链接图标：横向排列，适当缩小

2. **专辑详情页（移动端）**
   - 照片瀑布流：单列布局
   - 专辑信息头部：堆叠布局
   - 触摸优化：增大点击区域

3. **大图浏览模式（移动端）**
   - 全屏展示
   - 左右滑动切换照片
   - 信息面板：从底部向上滑出（抽屉式）
   - 双击放大照片

4. **作品管理（移动端）**
   - 简化操作流程
   - 大按钮，易于触摸
   - 上传：支持移动端相册选择
   - 拖拽排序：改为列表+拖动手柄

**业务规则：**
1. 移动端图片使用较小尺寸，减少流量消耗
2. 触摸区域最小尺寸：44x44px
3. 支持移动设备的原生图片选择器
4. 移动端隐藏部分次要功能，保持简洁
5. 支持PWA（渐进式Web应用）特性

---

## 5. 非功能需求

### 5.1 性能要求

1. **页面加载速度**
   - 首屏加载时间：< 3秒（3G网络）
   - 首屏加载时间：< 1.5秒（4G网络）
   - 个人主页Time to Interactive：< 5秒

2. **图片加载优化**
   - 使用响应式图片（根据设备尺寸加载合适尺寸）
   - 懒加载：滚动到可视区域才加载
   - 渐进式加载：先显示低质量图片，再加载高质量
   - CDN加速：图片托管在CDN上

3. **并发处理**
   - 支持至少100个并发用户访问
   - 单个专辑详情页支持50个并发访问

4. **数据库性能**
   - 数据库查询响应时间：< 100ms
   - 支持数据库索引优化（user_id、album_id、created_at等字段）

### 5.2 安全要求

1. **身份认证与授权**
   - 使用JWT进行身份认证
   - Token有效期：30天（记住我）或会话期间
   - 敏感操作（删除专辑、修改密码）需二次验证

2. **数据安全**
   - 密码使用bcrypt哈希存储
   - HTTPS加密传输（强制使用SSL）
   - 防止SQL注入、XSS攻击
   - CSRF保护

3. **权限控制**
   - 用户只能编辑和删除自己的专辑和照片
   - 草稿状态专辑仅所有者可见
   - 管理后台路由需登录验证

4. **文件上传安全**
   - 验证文件类型（仅允许图片格式）
   - 验证文件大小（最大20MB）
   - 文件名随机化，防止路径遍历攻击
   - 图片上传后进行安全扫描

### 5.3 兼容性要求

1. **浏览器兼容**
   - 桌面端：
     - Chrome（最近2个版本）
     - Firefox（最近2个版本）
     - Safari（最近2个版本）
     - Edge（最近2个版本）
   - 移动端：
     - iOS Safari（iOS 12+）
     - Chrome Mobile（Android 8+）

2. **设备兼容**
   - 支持主流桌面、平板、手机设备
   - 屏幕尺寸：320px - 2560px
   - 支持Retina高清屏幕

3. **网络兼容**
   - 支持3G/4G/5G/WiFi网络
   - 弱网环境优化（超时重试、降级加载）

### 5.4 可用性要求

1. **易用性**
   - 用户无需培训即可上手
   - 关键操作提供清晰的引导和提示
   - 错误提示友好且具有指导性

2. **无障碍访问（Accessibility）**
   - 符合WCAG 2.1 AA标准
   - 支持键盘导航
   - 图片提供alt文本
   - 颜色对比度符合标准

3. **国际化（未来扩展）**
   - 支持多语言切换（中文、英文）
   - 时区和日期格式本地化

---

## 6. 数据结构设计

### 6.1 数据库表结构

#### User（用户表）

| 字段名 | 类型 | 长度 | 必填 | 唯一 | 索引 | 说明 |
|-------|------|-----|------|------|------|------|
| user_id | UUID | - | 是 | 是 | 主键 | 用户唯一标识 |
| email | VARCHAR | 100 | 是 | 是 | 唯一索引 | 邮箱地址 |
| username | VARCHAR | 50 | 是 | 是 | 唯一索引 | 用户名 |
| password_hash | VARCHAR | 255 | 是 | 否 | - | 密码哈希值 |
| avatar_url | VARCHAR | 500 | 否 | 否 | - | 头像URL |
| display_name | VARCHAR | 50 | 否 | 否 | - | 昵称 |
| bio | TEXT | 500 | 否 | 否 | - | 个人简介 |
| location | VARCHAR | 100 | 否 | 否 | - | 地理位置 |
| website_url | VARCHAR | 500 | 否 | 否 | - | 个人网站 |
| instagram_url | VARCHAR | 500 | 否 | 否 | - | Instagram链接 |
| weibo_url | VARCHAR | 500 | 否 | 否 | - | 微博链接 |
| photography_tags | JSON | - | 否 | 否 | - | 拍摄领域标签 |
| email_verified | BOOLEAN | - | 是 | 否 | - | 邮箱是否验证 |
| status | ENUM | - | 是 | 否 | - | 账户状态 |
| created_at | TIMESTAMP | - | 是 | 否 | 索引 | 注册时间 |
| updated_at | TIMESTAMP | - | 是 | 否 | - | 最后更新时间 |

**索引：**
- PRIMARY KEY: user_id
- UNIQUE INDEX: email, username
- INDEX: created_at

---

#### Album（专辑表）

| 字段名 | 类型 | 长度 | 必填 | 索引 | 说明 |
|-------|------|-----|------|------|------|
| album_id | UUID | - | 是 | 主键 | 专辑唯一标识 |
| user_id | UUID | - | 是 | 外键索引 | 所属用户ID |
| title | VARCHAR | 100 | 是 | - | 专辑标题 |
| description | TEXT | 1000 | 否 | - | 专辑描述 |
| cover_photo_id | UUID | - | 否 | 外键 | 封面照片ID |
| shoot_date | DATE | - | 否 | - | 拍摄日期 |
| shoot_date_range_start | DATE | - | 否 | - | 拍摄开始日期 |
| shoot_date_range_end | DATE | - | 否 | - | 拍摄结束日期 |
| category_tags | JSON | - | 否 | - | 分类标签数组 |
| photo_count | INT | - | 是 | - | 照片数量 |
| created_at | TIMESTAMP | - | 是 | 索引 | 创建时间 |
| updated_at | TIMESTAMP | - | 是 | - | 最后更新时间 |
| sort_order | INT | - | 是 | 索引 | 排序权重 |
| status | ENUM | - | 是 | - | 状态（draft/published） |

**索引：**
- PRIMARY KEY: album_id
- INDEX: user_id, created_at, sort_order
- FOREIGN KEY: user_id → User(user_id)

---

#### Photo（照片表）

| 字段名 | 类型 | 长度 | 必填 | 索引 | 说明 |
|-------|------|-----|------|------|------|
| photo_id | UUID | - | 是 | 主键 | 照片唯一标识 |
| album_id | UUID | - | 是 | 外键索引 | 所属专辑ID |
| user_id | UUID | - | 是 | 外键索引 | 所属用户ID |
| title | VARCHAR | 200 | 否 | - | 照片标题 |
| description | TEXT | 2000 | 否 | - | 照片描述 |
| original_url | VARCHAR | 500 | 是 | - | 原图URL |
| large_url | VARCHAR | 500 | 是 | - | 大图URL |
| medium_url | VARCHAR | 500 | 是 | - | 中图URL |
| thumbnail_url | VARCHAR | 500 | 是 | - | 缩略图URL |
| width | INT | - | 是 | - | 原图宽度 |
| height | INT | - | 是 | - | 原图高度 |
| file_size | INT | - | 是 | - | 文件大小 |
| mime_type | VARCHAR | 50 | 是 | - | MIME类型 |
| exif_data | JSON | - | 否 | - | 完整EXIF信息 |
| camera_model | VARCHAR | 100 | 否 | - | 相机型号 |
| lens_model | VARCHAR | 100 | 否 | - | 镜头型号 |
| iso | INT | - | 否 | - | ISO值 |
| aperture | VARCHAR | 20 | 否 | - | 光圈值 |
| shutter_speed | VARCHAR | 20 | 否 | - | 快门速度 |
| focal_length | VARCHAR | 20 | 否 | - | 焦距 |
| shoot_date | TIMESTAMP | - | 否 | - | 拍摄时间 |
| location | VARCHAR | 200 | 否 | - | 拍摄地点 |
| category_tag | VARCHAR | 50 | 否 | - | 作品分类 |
| sort_order | INT | - | 是 | 索引 | 排序权重 |
| created_at | TIMESTAMP | - | 是 | 索引 | 上传时间 |
| updated_at | TIMESTAMP | - | 是 | - | 最后更新时间 |

**索引：**
- PRIMARY KEY: photo_id
- INDEX: album_id, user_id, created_at, sort_order
- FOREIGN KEY: album_id → Album(album_id)
- FOREIGN KEY: user_id → User(user_id)

---

#### Category（分类表，预设数据）

| 字段名 | 类型 | 长度 | 必填 | 说明 |
|-------|------|-----|------|------|
| category_id | INT | - | 是 | 分类ID |
| name_zh | VARCHAR | 50 | 是 | 中文名称 |
| name_en | VARCHAR | 50 | 是 | 英文名称 |
| slug | VARCHAR | 50 | 是 | URL友好标识 |
| icon | VARCHAR | 100 | 否 | 图标 |
| sort_order | INT | - | 是 | 排序 |

**预设数据：**
1. 人像（Portrait）
2. 风光（Landscape）
3. 街拍（Street）
4. 纪实（Documentary）
5. 静物（Still Life）
6. 建筑（Architecture）
7. 野生动物（Wildlife）
8. 时尚（Fashion）
9. 商业（Commercial）
10. 婚礼（Wedding）
11. 黑白（Black & White）
12. 胶片（Film）

---

### 6.2 数据关系图

```
User (1) ──────< (N) Album
  │                    │
  │                    │
  └──────< (N) Photo <─┘
                │
                └─ (1:1) Album.cover_photo_id
```

**关系说明：**
- 一个用户可以创建多个专辑（1:N）
- 一个用户可以上传多张照片（1:N）
- 一个专辑包含多张照片（1:N）
- 一个专辑有一张封面照片（1:1，可选）

---

## 7. 后续迭代规划

### V1.1：社交互动功能（预计3个月后）

**目标：** 增加用户之间的互动，提升平台活跃度

**新增功能：**
1. **点赞与收藏**
   - 用户可以点赞喜欢的照片
   - 用户可以收藏照片到个人收藏夹
   - 显示点赞数和收藏数

2. **评论功能**
   - 用户可以对照片发表评论
   - 支持回复评论（二级评论）
   - 评论审核机制（防止垃圾评论）

3. **关注系统**
   - 用户可以关注喜欢的摄影师
   - 关注列表和粉丝列表
   - 动态流：查看关注的摄影师的最新作品

4. **消息通知**
   - 点赞、评论、关注的通知提醒
   - 站内消息系统

### V1.2：增强展示功能（预计6个月后）

**目标：** 提供更多展示方式和浏览体验

**新增功能：**
1. **幻灯片播放**
   - 自动播放专辑内的照片
   - 可设置播放速度
   - 全屏幻灯片模式

2. **专辑密码保护**
   - 用户可以为专辑设置密码
   - 私密作品展示（仅限指定访客）

3. **专辑协作**
   - 邀请其他摄影师共同编辑专辑
   - 团队作品集展示

4. **作品对比查看**
   - 并排对比两张照片
   - 适用于前后期对比、不同机位对比等

### V1.3：版权与搜索功能（预计9个月后）

**目标：** 保护摄影师版权，提升作品可发现性

**新增功能：**
1. **版权保护**
   - 照片水印自动添加
   - 右键保护（禁止直接下载）
   - 版权声明显示（CC协议、保留所有权利等）

2. **全站搜索**
   - 搜索摄影师、专辑、照片
   - 按标签、分类筛选
   - 热门作品推荐

3. **高级筛选**
   - 按拍摄参数筛选（相机型号、镜头、光圈等）
   - 按拍摄地点筛选
   - 按时间范围筛选

4. **作品授权与销售**
   - 摄影师可标记作品是否可授权使用
   - 联系摄影师功能
   - 未来可接入图片交易平台

---

## 8. 风险与挑战

### 8.1 技术风险

**风险1：图片存储和CDN成本**
- **描述：** 高质量图片文件较大，存储和CDN流量成本可能快速增长
- **影响：** 高
- **应对策略：**
  - 使用对象存储服务（如AWS S3、阿里云OSS），按需付费
  - 启用CDN缓存，减少源站请求
  - 图片压缩优化，减少文件大小
  - 考虑分级存储策略（原图、展示图分离）

**风险2：大并发访问性能瓶颈**
- **描述：** 如果某个摄影师作品爆火，短时间大量访问可能导致服务器压力
- **影响：** 中
- **应对策略：**
  - 使用CDN缓存静态资源
  - 数据库查询优化和索引
  - 考虑使用缓存机制（Redis）
  - 服务器自动扩容（Vercel自动扩展）

**风险3：图片处理性能**
- **描述：** 批量上传时需要生成多个尺寸缩略图，处理时间较长
- **影响：** 中
- **应对策略：**
  - 使用异步队列处理（后台任务）
  - 使用专业的图片处理服务（如imgix、Cloudinary）
  - 前端显示处理进度，提升用户体验

### 8.2 产品风险

**风险1：用户留存和活跃度**
- **描述：** 初期用户可能上传作品后不再活跃，平台缺乏粘性
- **影响：** 高
- **应对策略：**
  - 提供访问统计功能，让摄影师看到作品浏览数据
  - 定期推送优质作品通知，激励用户持续创作
  - V1.1版本引入社交互动功能，增加用户粘性
  - 举办摄影主题活动，鼓励用户参与

**风险2：内容质量控制**
- **描述：** 用户上传低质量或不合规内容，影响平台形象
- **影响：** 中
- **应对策略：**
  - 建立内容审核机制（后期）
  - 用户举报功能
  - 鼓励用户上传高质量作品（首页推荐机制）
  - 明确社区规范和用户协议

**风险3：竞品压力**
- **描述：** 市场上已有500px、图虫等成熟平台，用户迁移成本高
- **影响：** 高
- **应对策略：**
  - 突出差异化优势：极简设计、画廊级展示、无广告干扰
  - 提供便捷的数据导入功能（从其他平台导入作品）
  - 专注细分市场：专业摄影师和严肃爱好者
  - 建立品牌认知度和口碑

### 8.3 运营风险

**风险1：初期用户获取困难**
- **描述：** 新平台知名度低，难以吸引首批用户
- **影响：** 高
- **应对策略：**
  - 邀请制内测，定向邀请优质摄影师
  - 与摄影社区、摄影学校合作推广
  - 社交媒体营销和内容营销
  - 提供免费且优质的服务，靠口碑传播

**风险2：服务器和基础设施成本**
- **描述：** 早期用户少，固定成本难以覆盖
- **影响：** 中
- **应对策略：**
  - 选择成本可控的云服务（Vercel提供免费额度）
  - 按需扩展，避免过度投入
  - 后期考虑商业化模式（会员、广告、授权分成）

---

## 9. 验收标准

### 9.1 功能验收

**用户系统：**
- [ ] 用户可以通过邮箱注册并收到确认邮件
- [ ] 用户可以登录并保持登录状态
- [ ] 用户可以编辑个人资料并在主页展示
- [ ] 个人主页可以通过URL访问

**专辑管理：**
- [ ] 用户可以创建新专辑
- [ ] 用户可以编辑专辑信息和设置封面
- [ ] 用户可以删除专辑并二次确认
- [ ] 用户可以拖拽调整专辑顺序

**作品管理：**
- [ ] 用户可以批量上传照片（至少10张）
- [ ] 上传时显示进度条和成功/失败状态
- [ ] 系统自动读取EXIF信息
- [ ] 用户可以编辑照片信息
- [ ] 用户可以删除照片

**作品展示：**
- [ ] 个人主页瀑布流正确展示所有专辑
- [ ] 专辑详情页瀑布流正确展示所有照片
- [ ] 点击照片进入大图浏览模式
- [ ] 大图模式支持左右切换和信息展示
- [ ] 响应式布局在移动端正确展示

### 9.2 性能验收

- [ ] 首屏加载时间 < 3秒（3G网络）
- [ ] 图片懒加载正常工作
- [ ] 专辑详情页支持50张照片流畅浏览
- [ ] 批量上传10张照片成功完成

### 9.3 兼容性验收

- [ ] Chrome浏览器测试通过
- [ ] Safari浏览器测试通过
- [ ] Firefox浏览器测试通过
- [ ] iPhone（Safari）测试通过
- [ ] Android手机（Chrome）测试通过

### 9.4 安全验收

- [ ] 密码加密存储
- [ ] 登录令牌正常工作
- [ ] 只能编辑自己的专辑和照片
- [ ] 上传文件类型验证正常
- [ ] HTTPS正常工作

---

## 10. 附录

### 10.1 术语表

- **MVP**（Minimum Viable Product）：最小可行产品
- **EXIF**（Exchangeable Image File Format）：可交换图像文件格式，存储照片元数据
- **CDN**（Content Delivery Network）：内容分发网络
- **JWT**（JSON Web Token）：JSON Web令牌，用于身份认证
- **瀑布流布局**（Masonry Layout）：不规则的多列布局，常用于图片展示
- **懒加载**（Lazy Loading）：延迟加载，滚动到可视区域才加载资源
- **PWA**（Progressive Web App）：渐进式Web应用

### 10.2 参考资料

- **竞品分析：**
  - 500px：https://500px.com
  - 图虫：https://tuchong.com
  - Flickr：https://www.flickr.com
  - Magnum Photos：https://www.magnumphotos.com

- **设计参考：**
  - Behance摄影作品集
  - Dribbble摄影网站设计

- **技术参考：**
  - 图片懒加载方案
  - 瀑布流布局实现
  - EXIF信息读取库

---

**文档结束**

本PRD文档详细描述了摄影作品展示平台的产品需求和功能设计，涵盖了从用户注册到作品展示的完整流程。下一步将根据此文档进行UI/UX设计和技术开发。

**版本历史：**
- V1.0：2025-10-08，初始版本，定义MVP功能范围